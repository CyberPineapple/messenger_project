# Регистрация и авторизация пользователя

При регистрации к пользователю предъявляются следующие требования:

* длина логина не больше 20 символов;
* логин должен быть уникальным.

## Регистрация

Для регистрации пользователя, клиент должен отправить следующий json-запрос

```json
{
	"Type": "account",
	"Command": "registration",
	"Login": "user",
	"Password": "password",
}
```

Сервер ответит

```json
{
	"Type": "account",
	"Command": "registration",
	"Status": "success"
}
```

### Зарегистрированный пользователь

Если пользователь попробует зарегистрироваться под уже имеющимся в базе логином, то сервер ответит так

```json
{
	"Type": "account",
	"Command": "registration",
	"Status": "user exist"
}
```

***FAQ***

*Нужно ли авторизовываться после регистрации?*
Нет, не нужно. Однако стоит проверить этот факт.

## Авторизация

Для авторизации пользователя, клиент должен отправить следующий json-запрос

```json
{
	"Type": "account",
    "Command": "login",
    "Login": "user",
    "Password": "password"
}
```

Сервер ответит

```json
{
	"Type": "account",
    "Command": "login",
    "Status": "success"
}
```

### Неверный пароль или несуществующий пользователь
Если пользователь введет неверный пароль или логин не существует в базе, сервер ответит ему так

```json
{
    "Type": "account",
    "Command": "login",
    "Status": "error"
}
```

## Выход пользователя из системы
Чтобы совершить выход из системы, клиент должен отправить на сервер

```json
{
	"Type": "account",
	"Command": "logout"
}
```

Сервер ответит

```json
{
    "Type": "account",
    "Command": "logout",
    "Status": "success"
}
```

**(?)** Однако стоит задуматься, нужно ли вообще серверу отправлять ответ?

### Выход не авторизованного пользователя
Если пользователь не имеющий логина и не авторизованный в системе отправит запрос на выход, сервер ответит так

```json
{
    "Type": "account",
    "Command": "logout",
    "Status": "error"
}
```