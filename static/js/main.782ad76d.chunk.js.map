{"version":3,"sources":["components/MainPage/MainMenu/MainMenu.module.css","components/MainPage/Chatbox/Chatbox.module.css","components/AuthentificationPage/AuthentificationPage.module.css","components/MainPage/Chatbox/ChatOutput/ChatOutput.module.css","components/MainPage/Chatbox/ChatOutput/Message/Message.module.css","components/LoadingPage/LoadingPage.module.css","components/AuthentificationPage/transition.module.css","components/MainPage/MainMenu/ChatItem/ChatItem.module.css","components/MainPage/MainMenu/Clock/Clock.module.css","audio/new_message.mp3","components/MainPage/MainPage.module.css","actions/actions.js","store/initialState.js","store/configureStore.js","reducers/rootReducer.js","websockets/websocket.js","components/AuthentificationPage/AuthentificationPage.jsx","components/MainPage/Chatbox/ChatOutput/Message/Message.jsx","components/MainPage/Chatbox/ChatOutput/ChatOutput.jsx","components/MainPage/Chatbox/Chatbox.jsx","components/MainPage/MainMenu/ChatItem/ChatItem.jsx","components/MainPage/MainMenu/Clock/Clock.jsx","components/MainPage/MainMenu/MainMenu.jsx","components/MainPage/MainPage.jsx","components/LoadingPage/LoadingPage.jsx","App.js","index.js"],"names":["module","exports","menu","menu_image","menu_login","menu_chat","menu_chat_list","input","block","button","chat","button_file","imagesBlock","pictures","image","page","layout","title","output","nameChat","messagesList","deleteButton","message","message_user","message_text","message_time","message_image","text","line1","spin","line2","line3","enter","enterActive","exit","exitActive","menu_chat_list_item","clockBLock","clock","__webpack_require__","p","chatbox","setPage","value","type","setLogin","login","setPassword","password","removeLogin","removePassword","setMessage","setMessagesList","removeMessagesList","removeMessage","addChatName","chatName","removeChatName","addChatPassword","chatPassword","removeChatPassword","activeChat","renderChatOutput","payload","addImage","clearImages","initialState","authentification","connect","chatList","images","store","createStore","state","arguments","length","undefined","action","Object","objectSpread","concat","toConsumableArray","socket","WebSocket","onopen","dispatch","onclose","console","log","onmessage","response","data","JSON","parse","Type","Status","Command","Chat","stringify","sendMessage","Chats","Messages","Message","user","getState","audio","Audio","src","sound","play","earlierMessagesList","onerror","error","send","AuthentificationPage","goToPage","_this","props","Login","Password","registration","_this2","this","transitions","react_default","a","createElement","TransitionGroup","CSSTransition","in","classNames","timeout","className","style","onChange","event","target","onClick","maxLength","placeholder","React","Component","bindActionCreators","alt","date","ChatOutput","scrollChat","scrollTop","deleteChat","messages","map","id","Message_Message","key","onScroll","el","document","querySelector","scrollHeight","Chatbox","Text","Image","pressEnter","e","onChangeMessage","loadImage","file","files","size","Compress","compress","quality","maxWidth","maxHeight","then","prefix","backgroundImage","Chatbox_ChatOutput_ChatOutput","htmlFor","accept","display","onKeyPress","ChatItem","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","choiceChat","onPressEnter","choiceSecretChat","name","setState","viewPasswordField","onChangePassword","Closed","passwordField","autoFocus","onMouseLeave","Fragment","Clock","updateClock","setInterval","tick","time","moment","locale","format","clockBlock","PureComponent","MainMenu","sendChat","viewChatInput","chats","MainMenu_ChatItem_ChatItem","chatInput","Clock_Clock","MainPage","MainPage_MainMenu_MainMenu","MainPage_Chatbox_Chatbox","LoadingPage","App","components_LoadingPage_LoadingPage","components_AuthentificationPage_AuthentificationPage","MainPage_MainPage","ReactDOM","render","es","src_App","getElementById"],"mappings":"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","file":"static/js/main.782ad76d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"MainMenu_menu__38NUy\",\"menu_image\":\"MainMenu_menu_image__3kold\",\"menu_login\":\"MainMenu_menu_login__J-DOZ\",\"menu_chat\":\"MainMenu_menu_chat__RXXU8\",\"menu_chat_list\":\"MainMenu_menu_chat_list__1Smpe\",\"input\":\"MainMenu_input__213Gt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Chatbox_block__OWqB5\",\"input\":\"Chatbox_input__1nWLP\",\"button\":\"Chatbox_button__1awb1\",\"chat\":\"Chatbox_chat__-T56v\",\"button_file\":\"Chatbox_button_file__1rqcP\",\"imagesBlock\":\"Chatbox_imagesBlock__wfIuV\",\"pictures\":\"Chatbox_pictures__2N1yo\",\"image\":\"Chatbox_image__3E6kr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"AuthentificationPage_page__2HM45\",\"layout\":\"AuthentificationPage_layout__1btWJ\",\"button\":\"AuthentificationPage_button__1nnUE\",\"input\":\"AuthentificationPage_input__2s8ii\",\"title\":\"AuthentificationPage_title__3nREf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"output\":\"ChatOutput_output__3SkVW\",\"nameChat\":\"ChatOutput_nameChat__1_IsS\",\"messagesList\":\"ChatOutput_messagesList__jQdkp\",\"deleteButton\":\"ChatOutput_deleteButton__3xEyy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__M956o\",\"message_user\":\"Message_message_user__3ftx_\",\"message_text\":\"Message_message_text__2xRKS\",\"message_time\":\"Message_message_time__3wmGK\",\"message_image\":\"Message_message_image__Iby-h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"LoadingPage_block__1IOaF\",\"text\":\"LoadingPage_text__3JhiI\",\"line1\":\"LoadingPage_line1__2Y0t1\",\"spin\":\"LoadingPage_spin__2HKox\",\"line2\":\"LoadingPage_line2__11m1-\",\"line3\":\"LoadingPage_line3__2g_cJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"transition_enter__2o_yK\",\"enterActive\":\"transition_enterActive__WgKbf\",\"exit\":\"transition_exit__3Q8I9\",\"exitActive\":\"transition_exitActive__1bHAW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu_chat_list_item\":\"ChatItem_menu_chat_list_item__1gxCS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"clockBLock\":\"Clock_clockBLock__2HsNj\",\"clock\":\"Clock_clock__1ljTg\"};","module.exports = __webpack_public_path__ + \"static/media/new_message.8b29b843.mp3\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"MainPage_layout__1NnJr\",\"chatbox\":\"MainPage_chatbox__2SPmk\",\"output\":\"MainPage_output__1Lfo1\",\"input\":\"MainPage_input__2q5-T\",\"button\":\"MainPage_button__3Je2V\"};","\r\nexport const setPage = value => {\r\n    return{\r\n        type: 'SET_PAGE',\r\n        page: value\r\n    }\r\n}\r\n\r\nexport const setLogin = value => {\r\n    return{\r\n        type: 'SET_LOGIN',\r\n        login: value\r\n    }\r\n}\r\n\r\nexport const setPassword = value => {\r\n    return{\r\n        type: 'SET_PASSWORD',\r\n        password: value\r\n    }\r\n}\r\n\r\nexport const removeLogin = () => {\r\n    return{\r\n        type: 'REMOVE_LOGIN'\r\n    }\r\n}\r\n\r\nexport const removePassword = () => {\r\n    return{\r\n        type: 'REMOVE_PASSWORD',\r\n    }\r\n}\r\n\r\nexport const authentification = value => {\r\n    return {\r\n        type: 'AUTHENTIFICATION',\r\n        authentification: value\r\n    }\r\n}\r\n\r\n\r\nexport const connect = value => {\r\n    return {\r\n        type: 'CONNECT',\r\n        connect: value\r\n    }\r\n}\r\n\r\nexport const setMessage = value => {\r\n    return{\r\n        type: 'SET_MESSAGE',\r\n        message: value\r\n    }\r\n}\r\n\r\nexport const setMessagesList = value => {\r\n    return{\r\n        type: 'SET_MESSAGES_LIST',\r\n        messagesList: value\r\n    }\r\n}\r\n\r\nexport const removeMessagesList = () => {\r\n    return{\r\n        type: 'REMOVE_MESSAGES_LIST',\r\n    }\r\n}\r\n\r\nexport const removeMessage = () => {\r\n    return{\r\n        type: 'REMOVE_MESSAGE'\r\n    }\r\n}\r\n\r\nexport const setChatList = value => {\r\n    return{\r\n        type: 'SET_CHAT_LIST',\r\n        chatList: value\r\n    }\r\n}\r\n\r\nexport const addChatName = value => {\r\n    return{\r\n        type: 'ADD_CHAT_NAME',\r\n        chatName: value\r\n    }\r\n}\r\n\r\nexport const removeChatName = () => {\r\n    return{\r\n        type: 'REMOVE_CHAT_NAME',\r\n    }\r\n}\r\n\r\nexport const addChatPassword = value => {\r\n    return{\r\n        type: 'ADD_CHAT_PASSWORD',\r\n        chatPassword: value\r\n    }\r\n}\r\n\r\nexport const removeChatPassword = () => {\r\n    return{\r\n        type: 'REMOVE_CHAT_PASSWORD',\r\n    }\r\n}\r\n\r\nexport const activeChat = value => {\r\n    return {\r\n        type: 'ACTIVE_CHAT',\r\n        chat: value\r\n    }\r\n}\r\n\r\nexport const renderChatOutput = (value) =>{\r\n    return {\r\n        type: 'RENDER_CHAT_OUTPUT',\r\n        payload: value\r\n    }\r\n}\r\n\r\nexport const earlierMessagesList = (value) =>{\r\n    return {\r\n        type: 'EARLIER_MESSAGES',\r\n        payload: value\r\n    }\r\n}\r\n\r\nexport const addImage = value => {\r\n    return {\r\n        type: 'ADD_IMAGE',\r\n        image: value\r\n    }\r\n}\r\n\r\nexport const clearImages = () => {\r\n    return {\r\n        type: 'CLEAR_IMAGES'\r\n    }\r\n}\r\n","export const initialState = {\r\n  page: \"loading\",\r\n  login: \"login\",\r\n  password: \"password\",\r\n  authentification: false,\r\n  connect: false,\r\n  message: \"\",\r\n  messagesList: [],\r\n  chatList: [],\r\n  chatName: \"\",\r\n  chatPassword: \"\",\r\n  activeChat: \"\",\r\n  renderChatOutput: true,\r\n  images: \"\"\r\n};","import { createStore } from 'redux';\r\nimport { rootReducer } from '../reducers/rootReducer';\r\nimport { initialState } from './initialState';\r\n\r\n export const store = createStore(rootReducer, initialState);","import { initialState } from '../store/initialState';\r\n\r\nexport function rootReducer(state = initialState, action){\r\n    switch (action.type){\r\n        case 'SET_PAGE': return {...state, page: action.page};\r\n        case 'SET_LOGIN': return {...state, login: action.login};\r\n        case 'SET_PASSWORD': return {...state, password: action.password};\r\n        case 'REMOVE_LOGIN': return {...state, login: ''};\r\n        case 'REMOVE_PASSWORD': return {...state, password: ''};\r\n        case 'AUTHENTIFICATION': return {...state, authentification: action.authentification};\r\n        case 'CONNECT': return {...state, connect: action.connect};\r\n        case 'SET_MESSAGE': return {...state, message: action.message};\r\n        case 'SET_MESSAGES_LIST': return {...state, messagesList: state.messagesList.concat(action.messagesList)};\r\n        case 'REMOVE_MESSAGE': return {...state, message: ''};\r\n        case 'SET_CHAT_LIST': return {...state, chatList: action.chatList};\r\n        case 'ADD_CHAT_NAME': return {...state, chatName: action.chatName};\r\n        case 'REMOVE_CHAT_NAME': return {...state, chatName: ''};\r\n        case 'ADD_CHAT_PASSWORD': return {...state, chatPassword: action.chatPassword};\r\n        case 'REMOVE_CHAT_PASSWORD': return {...state, chatPassword: ''};\r\n        case 'ACTIVE_CHAT': return {...state, activeChat: action.chat};\r\n        case 'REMOVE_MESSAGES_LIST': return{...state, messagesList: []};\r\n        case 'RENDER_CHAT_OUTPUT': return{...state, renderChatOutput: action.payload};\r\n        case 'EARLIER_MESSAGES': return{...state, messagesList: [...action.payload, ...state.messagesList]};\r\n        case 'ADD_IMAGE': return {...state, images: action.image};\r\n        case 'CLEAR_IMAGES': return {...state, images: ''};\r\n        default: return state;\r\n    }\r\n}\r\n","import { store } from \"../store/configureStore\";\r\nimport {\r\n  setPage,\r\n  connect,\r\n  setMessagesList,\r\n  setChatList,\r\n  renderChatOutput,\r\n  earlierMessagesList,\r\n  activeChat\r\n} from \"../actions/actions\";\r\nimport sound from \"../audio/new_message.mp3\";\r\n\r\nexport const socket = new WebSocket(\r\n  \"wss://host-94-103-84-32.hosted-by-vdsina.ru:443/\"\r\n);\r\n\r\nsocket.onopen = () => {\r\n  store.dispatch(setPage(\"authentification\"));\r\n  store.dispatch(connect(true));\r\n};\r\n\r\nsocket.onclose = () => {\r\n  console.log(\"disconnect\");\r\n  store.dispatch(setPage(\"loading\"));\r\n};\r\n\r\nsocket.onmessage = response => {\r\n  let data = JSON.parse(response.data);\r\n  console.log(data);\r\n  if (data !== null) {\r\n    switch (data.Type) {\r\n      case \"login\": {\r\n        if (data.Status === \"success\") {\r\n          store.dispatch(setPage(\"main\"));\r\n          let data = {\r\n            Type: \"chat\",\r\n            Command: \"choice\",\r\n            Chat: \"general\"\r\n          };\r\n          data = JSON.stringify(data);\r\n          sendMessage(data);\r\n          data = {\r\n            Type: \"chat\",\r\n            Command: \"connected\"\r\n          };\r\n          data = JSON.stringify(data);\r\n          sendMessage(data);\r\n          store.dispatch(renderChatOutput(false));\r\n        } else if (data.Status === \"error\") {\r\n          console.log(\"Ошибка авторизации\");\r\n        }\r\n        break;\r\n      }\r\n      case \"registration\": {\r\n        console.log(\"Регистрация\");\r\n        break;\r\n      }\r\n      case \"chat\": {\r\n        if (data.Command === \"list\") {\r\n          store.dispatch(setChatList(data.Chats));\r\n        }\r\n        if (data.Command === \"choice\") {\r\n          store.dispatch(activeChat(data.Chat));\r\n          store.dispatch(setMessagesList(data.Messages));\r\n          store.dispatch(renderChatOutput(true));\r\n        }\r\n        if (data.Command === \"message\") {\r\n          if (data.Message.user !== store.getState().login) {\r\n            const audio = new Audio();\r\n            audio.src = sound;\r\n            audio.play();\r\n          }\r\n          store.dispatch(setMessagesList(data.Message));\r\n        }\r\n        if (data.Command === \"earlier\") {\r\n          if (data.Messages.length !== 0) {\r\n            store.dispatch(earlierMessagesList(data.Messages));\r\n          }\r\n        }\r\n        break;\r\n      }\r\n      default: {\r\n        console.log(data);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nsocket.onerror = error => {\r\n  console.log(\"error: \", error);\r\n};\r\n\r\nconst sendMessage = data => {\r\n  socket.send(data);\r\n};\r\n\r\nexport default sendMessage;\r\n","import React from \"react\";\r\nimport style from \"./AuthentificationPage.module.css\";\r\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport transitions from \"./transition.module.css\";\r\nimport './transition.css';\r\nimport {\r\n  setPage,\r\n  setLogin,\r\n  setPassword,\r\n  removeLogin,\r\n  removePassword\r\n} from \"../../actions/actions.js\";\r\nimport sendMessage from \"../../websockets/websocket\";\r\n\r\nclass AuthentificationPage extends React.Component {\r\n  render() {\r\n    console.log(transitions);\r\n    return (\r\n      <TransitionGroup>\r\n        <CSSTransition in={true} classNames={{...transitions}} timeout={3000}>\r\n          <div className={style.page}>\r\n            <div className={style.layout}>\r\n              <p className={style.title}>Добро пожаловать</p>\r\n              <p>Логин</p>\r\n              <input\r\n                type=\"text\"\r\n                className={style.input}\r\n                onChange={event => this.props.setLogin(event.target.value)}\r\n                onClick={removeLogin}\r\n                value={this.props.login}\r\n                maxLength={20}\r\n                placeholder=\"Введите логин\"\r\n              />\r\n              <p>Пароль</p>\r\n              <input\r\n                placeholder=\"Введите пароль\"\r\n                type=\"password\"\r\n                className={style.input}\r\n                onChange={event => this.props.setPassword(event.target.value)}\r\n                value={this.props.password}\r\n                onClick={() => this.props.removePassword()}\r\n                maxLength={30}\r\n              />\r\n              <div className={style.button} onClick={() => this.goToPage()}>\r\n                Войти\r\n              </div>\r\n              <div className={style.button} onClick={() => this.registration()}>\r\n                Регистрация\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </CSSTransition>\r\n      </TransitionGroup>\r\n    );\r\n  }\r\n\r\n  goToPage = () => {\r\n    if (this.props.login !== \"\" && this.props.password !== \"\") {\r\n      let data = {\r\n        Type: \"login\",\r\n        Login: this.props.login,\r\n        Password: this.props.password\r\n      };\r\n      data = JSON.stringify(data);\r\n      sendMessage(data);\r\n    }\r\n  };\r\n\r\n  registration = () => {\r\n    if (this.props.login !== \"\" && this.props.password !== \"\") {\r\n      let data = {\r\n        Type: \"registration\",\r\n        Login: this.props.login,\r\n        Password: this.props.password\r\n      };\r\n      data = JSON.stringify(data);\r\n      sendMessage(data);\r\n    }\r\n  };\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    login: store.login,\r\n    password: store.password\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      setPage: setPage,\r\n      setLogin: setLogin,\r\n      setPassword: setPassword,\r\n      removeLogin: removeLogin,\r\n      removePassword: removePassword\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AuthentificationPage);\r\n","import React from \"react\";\r\nimport style from \"./Message.module.css\";\r\n\r\nexport default class Message extends React.Component {\r\n  render() {\r\n    const { data } = this.props;\r\n    let image;\r\n    let text;\r\n    if (data.image) {\r\n      image = (\r\n        <img\r\n          src={\"https://host-94-103-84-32.hosted-by-vdsina.ru\" + data.image}\r\n          className={style.message_image}\r\n          alt=\"images\"\r\n        />\r\n      );\r\n    }\r\n    if (data.text){\r\n      text = (<div className={style.message_text}>{data.text}</div>);\r\n    }\r\n\r\n    return (\r\n      <div className={style.message}>\r\n        <div className={style.message_user}>{data.user}</div>\r\n        {text}\r\n        <div className={style.message_time}>{data.date}</div>\r\n        {image}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport style from \"./ChatOutput.module.css\";\r\nimport { socket } from \"../../../../websockets/websocket\";\r\nimport Message from \"./Message/Message\";\r\n\r\nclass ChatOutput extends React.Component {\r\n\r\n  render() {\r\n    const { messagesList } = this.props;\r\n    let messages = [];\r\n    if (messagesList.length !== 0) {\r\n      messages = messagesList.map((value, id) => (\r\n        <Message data={value} key={id} />\r\n      ));\r\n    }\r\n    return (\r\n      <div className={style.output}>\r\n        <div className={style.nameChat}>\r\n          {this.props.activeChat}\r\n          <div className={style.deleteButton} onClick={this.deleteChat}>Очистить чат</div>\r\n        </div>\r\n        <div className={style.messagesList} onScroll={this.scrollChat}>\r\n          {messages}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    let el = document.querySelector(\".\" + style.messagesList);\r\n    el.scrollTop = el.scrollHeight;\r\n  }\r\n\r\n  scrollChat = value => {\r\n    if (value.target.scrollTop === 0) {\r\n      let data = {\r\n        Type: \"chat\",\r\n        Command: \"earlier\"\r\n      };\r\n      socket.send(JSON.stringify(data));\r\n      value.target.scrollTop = 10;\r\n    }\r\n  };\r\n\r\n  deleteChat = () =>{\r\n    const data ={\r\n      Type: 'chat',\r\n      Command: 'purge'\r\n    }\r\n    socket.send(JSON.stringify(data));\r\n  }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    messagesList: store.messagesList,\r\n    activeChat: store.activeChat\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(ChatOutput);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport style from \"./Chatbox.module.css\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport {\r\n  setMessage,\r\n  removeMessage,\r\n  clearImages,\r\n  addImage\r\n} from \"../../../actions/actions.js\";\r\nimport sendMessage from \"../../../websockets/websocket\";\r\nimport ChatOutput from \"./ChatOutput/ChatOutput\";\r\nimport Compress from \"compress.js\";\r\n\r\nclass Chatbox extends React.Component {\r\n  render() {\r\n    let chat = null;\r\n    let pictures = (\r\n      <div\r\n        className={style.image}\r\n        style={{ backgroundImage: `url(${this.props.images})` }}\r\n      />\r\n    );\r\n    if (this.props.renderChatOutput) {\r\n      chat = <ChatOutput />;\r\n    }\r\n\r\n    return (\r\n      <div className={style.block}>\r\n        <div className={style.chat}>{chat}</div>\r\n        <div className={style.input}>\r\n          <div className={style.imagesBlock}>\r\n            <label htmlFor=\"file\" className={style.button_file}>\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/jpeg,image/png\"\r\n                style={{ display: \"none\" }}\r\n                id=\"file\"\r\n                onChange={e => this.loadImage(e)}\r\n              />\r\n            </label>\r\n            <div className={style.pictures}>{pictures}</div>\r\n          </div>\r\n          <textarea\r\n            onChange={event => this.onChangeMessage(event.target.value)}\r\n            value={this.props.message}\r\n            onKeyPress={e => this.pressEnter(e)}\r\n          />\r\n          <div className={style.button} onClick={() => this.sendMessage()}>\r\n            Отправить\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  sendMessage = () => {\r\n    if (\r\n      this.props.activeChat !== \"\" &&\r\n      (this.props.message !== \"\" || this.props.images !== \"\")\r\n    ) {\r\n      let data = {\r\n        Type: \"chat\",\r\n        Command: \"message\"\r\n      };\r\n      if (this.props.message !== \"\") {\r\n        data.Text = this.props.message;\r\n      }\r\n      if (this.props.images !== \"\") {\r\n        data.Image = this.props.images;\r\n      }\r\n      data = JSON.stringify(data);\r\n      console.log(data);\r\n      sendMessage(data);\r\n      this.props.removeMessage();\r\n      this.props.clearImages();\r\n    }\r\n  };\r\n\r\n  pressEnter = e => {\r\n    if (e.key === \"Enter\") {\r\n      this.sendMessage();\r\n    }\r\n  };\r\n\r\n  onChangeMessage = value => {\r\n    if (value !== \"\\n\") this.props.setMessage(value);\r\n  };\r\n\r\n  loadImage = e => {\r\n    let file = [...e.target.files];\r\n    console.log(file[0].size);\r\n    const compress = new Compress();\r\n\r\n    compress.compress(file, {\r\n      quality: 0.75,\r\n      maxWidth: 1920,\r\n      maxHeight: 1920\r\n    }).then((data) => {\r\n      console.log(data[0]);\r\n      this.props.addImage(data[0].prefix + data[0].data);\r\n    });\r\n  };\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    message: store.message,\r\n    login: store.login,\r\n    activeChat: store.activeChat,\r\n    renderChatOutput: store.renderChatOutput,\r\n    images: store.images\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      setMessage: setMessage,\r\n      removeMessage: removeMessage,\r\n      clearImages: clearImages,\r\n      addImage: addImage\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Chatbox);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport style from \"./ChatItem.module.css\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { removeMessagesList, renderChatOutput } from \"../../../../actions/actions\";\r\nimport sendMessage from \"../../../../websockets/websocket\";\r\n\r\nclass ChatItem extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      viewPasswordField: false,\r\n      chatPassword: \"\"\r\n    };\r\n  }\r\n\r\n  render() {\r\n    let chat;\r\n    const { value } = this.props;\r\n    if (value.Closed === false) {\r\n      chat = (\r\n        <div onClick={this.choiceChat} className={style.menu_chat_list_item}>\r\n          <p>{value.Chat}</p>\r\n        </div>\r\n      );\r\n    } else if (value.Closed === true) {\r\n      let passwordField = \"\";\r\n      if (this.state.viewPasswordField === true) {\r\n        passwordField = (\r\n          <input\r\n            type=\"text\"\r\n            value={this.props.chatPassword}\r\n            onChange={e => this.onChangePassword(e.target.value)}\r\n            onKeyPress={e => this.onPressEnter(e)}\r\n            maxLength={30}\r\n            autoFocus\r\n          />\r\n        );\r\n      }\r\n      chat = (\r\n        <div\r\n          className={style.menu_chat_list_item}\r\n          onClick={() =>\r\n            this.setState({\r\n              viewPasswordField: true\r\n            })\r\n          }\r\n          onMouseLeave={() =>\r\n            this.setState({\r\n              viewPasswordField: false\r\n            })\r\n          }\r\n        >\r\n          <p>{value.Chat}</p>\r\n          {passwordField}\r\n        </div>\r\n      );\r\n    }\r\n    return <React.Fragment>{chat}</React.Fragment>;\r\n  }\r\n\r\n  choiceChat = () => {\r\n    const chatName = this.props.value.Chat;\r\n    let data = {\r\n      Type: \"chat\",\r\n      Command: \"choice\",\r\n      Chat: chatName\r\n    };\r\n    data = JSON.stringify(data);\r\n    this.props.renderChatOutput(false);\r\n    this.props.removeMessagesList();\r\n    sendMessage(data);\r\n    data = {\r\n      Type: 'chat',\r\n      Command: 'connected'\r\n    }\r\n    data = JSON.stringify(data);\r\n    sendMessage(data);\r\n  };\r\n\r\n  onPressEnter = e => {\r\n    if (e.key === \"Enter\") {\r\n      this.choiceSecretChat(this.props.value.Chat);\r\n    }\r\n  };\r\n\r\n  choiceSecretChat = name => {\r\n    let data = {\r\n      Type: \"chat\",\r\n      Command: \"choice\",\r\n      Chat: name,\r\n      Password: this.state.chatPassword\r\n    };\r\n    data = JSON.stringify(data);\r\n    sendMessage(data);\r\n    this.props.renderChatOutput(false);\r\n    this.props.removeMessagesList();\r\n    this.setState({\r\n      viewPasswordField: false,\r\n      chatPassword: \"\"\r\n    });\r\n  };\r\n\r\n  onChangePassword = value => {\r\n    this.setState({\r\n      chatPassword: value\r\n    });\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      removeMessagesList: removeMessagesList,\r\n      renderChatOutput: renderChatOutput\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(ChatItem);\r\n","import React from \"react\";\r\nimport style from \"./Clock.module.css\";\r\nimport moment from 'moment'\r\n\r\nexport default class Clock extends React.PureComponent {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      time: moment().locale('ru').format('LLL')\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateClock();\r\n  }\r\n\r\n  render() {\r\n    console.log(moment().format('LT'));\r\n    const { time } = this.state;\r\n\r\n    return (\r\n      <div className={style.clockBlock}>\r\n        <div className={style.clock}>\r\n          {time}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  updateClock = () => {\r\n    setInterval(this.tick, 5000);\r\n  };\r\n\r\n  tick = () => {\r\n    this.setState({\r\n      time: moment().locale('ru').format('LLL')\r\n    });\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport style from \"./MainMenu.module.css\";\r\nimport { socket } from \"../../../websockets/websocket\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { addChatName, removeChatName, activeChat, removeMessagesList, addChatPassword, removeChatPassword } from \"../../../actions/actions\";\r\nimport ChatItem from './ChatItem/ChatItem';\r\nimport Clock from './Clock/Clock';\r\n\r\nclass MainMenu extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      viewChatInput: false\r\n    }\r\n  }\r\n  render() {\r\n    let chats = this.props.chatList;\r\n    chats = chats.map((value, id) => (\r\n      <ChatItem value={value} key={id} />\r\n    ))\r\n    let chatInput = '';\r\n    if (this.state.viewChatInput === false) {\r\n      chatInput = (<p className={style.menu_chat} onClick={() => this.setState({ viewChatInput: !this.state.viewChatInput })}>Создать чат</p>);\r\n    } else if (this.state.viewChatInput === true) {\r\n      chatInput = (<React.Fragment>\r\n        <p className={style.menu_chat} onClick={() => this.setState({ viewChatInput: !this.state.viewChatInput })}>Закрыть</p>\r\n        <p className={style.menu_chat}>Название чата</p>\r\n        <input\r\n          type=\"text\"\r\n          className={style.input}\r\n          onChange={e => this.props.addChatName(e.target.value)}\r\n          onKeyPress={e => this.sendChat(e)}\r\n          value={this.props.chatName}\r\n          onClick={() => this.props.removeChatName()}\r\n          maxLength={12}\r\n        />\r\n        <p className={style.menu_chat}>Пароль (не обязательно)</p>\r\n        <input\r\n          type=\"text\"\r\n          className={style.input}\r\n          onChange={e => this.props.addChatPassword(e.target.value)}\r\n          onKeyPress={e => this.sendChat(e)}\r\n          value={this.props.chatPassword}\r\n          onClick={() => this.props.removeChatPassword()}\r\n          maxLength={30}\r\n        />\r\n      </React.Fragment>\r\n      )\r\n    }\r\n\r\n    return (\r\n      < React.Fragment >\r\n        <div className={style.menu}>\r\n          <div className={style.menu_image} />\r\n          <p className={style.menu_login}>{this.props.login}</p>\r\n          {chatInput}\r\n          <p className={style.menu_chat}>Список чатов:</p>\r\n          <div className={style.menu_chat_list}>\r\n            {chats}\r\n          </div>\r\n          <Clock />\r\n        </div>\r\n      </React.Fragment >\r\n    );\r\n  }\r\n\r\n  sendChat = e => {\r\n    if (this.props.chatName !== \"\") {\r\n      if (e.key === \"Enter\") {\r\n        let data = {\r\n            Type: \"chat\",\r\n            Command: \"create\",\r\n            Chat: this.props.chatName\r\n          };\r\n        if (this.props.chatPassword !== ''){\r\n          data['Password'] = this.props.chatPassword;\r\n        }\r\n        data = JSON.stringify(data);\r\n        socket.send(data);\r\n        this.props.removeChatName();\r\n        this.props.removeChatPassword();\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    login: store.login,\r\n    chatList: store.chatList,\r\n    chatName: store.chatName,\r\n    chatPassword: store.chatPassword\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { addChatName: addChatName, removeChatName: removeChatName, activeChat: activeChat, removeMessagesList: removeMessagesList, removeChatPassword: removeChatPassword, addChatPassword: addChatPassword },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MainMenu);\r\n","import React from \"react\";\r\nimport style from \"./MainPage.module.css\";\r\nimport Chatbox from \"./Chatbox/Chatbox\";\r\nimport MainMenu from \"./MainMenu\";\r\n\r\nexport default class MainPage extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className={style.layout}>\r\n        <MainMenu />\r\n        <Chatbox />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react'\r\nimport style from './LoadingPage.module.css'\r\n\r\nconst LoadingPage = () => {\r\n        return (\r\n        <div className={style.block}>\r\n            <p className={style.text}>Connecting to server</p>\r\n            <div className={style.line1}></div>\r\n            <div className={style.line2}></div>\r\n            <div className={style.line3}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadingPage;","import React, { Component } from \"react\";\r\nimport AuthentificationPage from \"./components/AuthentificationPage/AuthentificationPage.jsx\";\r\nimport MainPage from \"./components/MainPage/MainPage\";\r\nimport { connect } from \"react-redux\";\r\nimport LoadingPage from \"./components/LoadingPage/LoadingPage\";\r\n\r\nclass App extends Component {\r\n  render() {\r\n    const { page } = this.props;\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        {page === \"loading\" && <LoadingPage />}\r\n        {page === \"authentification\" && <AuthentificationPage />}\r\n        {page === \"main\" && <MainPage />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({ page: state.page }))(App);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./store/configureStore\";\r\n\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}